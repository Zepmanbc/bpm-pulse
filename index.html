<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>Pulse BPM</title>
    <style>
        body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        }

        #pulse {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: #333;
        transition: background 0.08s;
        }

        #pulse.on {
            background: #00ff66;
        }
    </style>
    </head>
    <body>
    <div id="pulse" class="on"></div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const bpm = Number(params.get("bpm")) || 120;

        const interval = 60000 / bpm;
        const pulse = document.getElementById("pulse");

        let next = performance.now();

        function tick(now) {
        if (now >= next) {
            pulse.classList.add("on");
            setTimeout(() => pulse.classList.remove("on"), interval * 0.15);
            next += interval;
        }
        requestAnimationFrame(tick);
        }

        requestAnimationFrame(tick);

    </script>
</body>
</html>
